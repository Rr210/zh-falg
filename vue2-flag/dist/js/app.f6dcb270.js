(function(t){function e(e){for(var r,s,o=e[0],c=e[1],l=e[2],d=0,f=[];d<o.length;d++)s=o[d],Object.prototype.hasOwnProperty.call(i,s)&&i[s]&&f.push(i[s][0]),i[s]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(t[r]=c[r]);u&&u(e);while(f.length)f.shift()();return a.push.apply(a,l||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],r=!0,o=1;o<n.length;o++){var c=n[o];0!==i[c]&&(r=!1)}r&&(a.splice(e--,1),t=s(s.s=n[0]))}return t}var r={},i={app:0},a=[];function s(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=r,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)s.d(n,r,function(e){return t[e]}.bind(null,r));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var u=c;a.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},1:function(t,e){},2:function(t,e){},3:function(t,e){},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("Main")],1)},a=[],s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"wrapper"},[n("div",{staticClass:"operation-header"},[n("div",{staticClass:"h-title"},[n("Left",{attrs:{num:t.imgLists.length,imgList:t.imgLists},on:{currentBorderIndex:t.getCurrentBorderIndex}})],1)]),t.isResults?t._e():n("div",{staticClass:"operation-box"},[n("a",{staticClass:"prev",on:{click:t.changeHatPre}}),n("div",{staticClass:"operation-img"},[n("div",{staticClass:"cropper-content",attrs:{id:"content"}},[n("canvas",{ref:"canvas",attrs:{id:"imageEffectCanvas"}})])]),n("a",{staticClass:"next",on:{click:t.changeHatNext}})]),t.isResults?n("img",{attrs:{id:"export",alt:"国庆专属头像",src:t.exportImage}}):t._e(),n("div",{staticClass:"operation-btns"},[n("a",{staticClass:"o-btn1",class:t.isShow?"hide":"show"},[n("input",{staticClass:"o-btn1",staticStyle:{opacity:"0"},attrs:{id:"upload",type:"file"},on:{change:t.viewer}})]),n("a",{staticClass:"o-btn2",class:t.isShow?"show":"hide",on:{click:t.exportFunc}})]),t._m(0),t._m(1)])])},o=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"operation-done"},[n("img",{staticClass:"act-done-happy",attrs:{src:"picture/act-done-happy.png",alt:""}})])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticStyle:{"font-weight":"550"},attrs:{align:"center"}},[n("a",{staticStyle:{color:"#000"},attrs:{href:"https://u.mr90.top",target:"_blank"}},[t._v(" ©2021-Harry")])])}],c=(n("d3b7"),n("3ca3"),n("ddb0"),n("2b3d"),n("9861"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"left"},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.isshow,expression:"isshow"}],staticClass:"mask_w",on:{click:t.changeD}}),n("img",{staticClass:"img-2",attrs:{src:"picture/cate.png",alt:"",srcset:""},on:{click:t.changeD}}),n("transition",{attrs:{name:"fade","enter-active-class":"animate__animated animate__fadeInLeft","leave-active-class":"animate__animated animate__fadeOutLeft"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.isshow,expression:"isshow"}],staticClass:"left-w"},[n("div",{staticStyle:{margin:"60px 0 0 20px"}},[t._v("总共"+t._s(t.num)+"种样式")]),n("ul",{staticClass:"ul-w"},t._l(t.imgList,(function(e,r){return n("li",{key:"dda"+r,on:{click:function(e){return t.selectedBorder(r+1)}}},[n("img",{attrs:{src:"picture/hat"+(r+1)+".png",alt:""}})])})),0),n("Person")],1)])],1)}),l=[],u=(n("a9e3"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"footer-w"},t._l(t.personI,(function(e,r){return n("a",{key:r,staticClass:"footer-left",attrs:{target:"_blank",href:e.href}},[n("svg",{attrs:{width:"20",role:"img",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"}},[n("title",[t._v(t._s(e.title))]),n("path",{attrs:{d:e.d}})])])})),0)])}),d=[],f={name:"hr-person",data:function(){return{personI:[{title:"Github",href:"https://github.com/rr210/zh-flag",d:"M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"},{title:"Blog",href:"https://mr90.top",d:"M12 0C5.4 0 0 4.9 0 10.95 0 17 5.4 21.9 12 21.9c1.4 0 2.85-.25 4.2-.7.15-.05.35 0 .45.1 1 1.35 2.55 2.3 4.25 2.7l.25-.1v-.3a4.65 4.65 0 01.2-5.9C22.9 15.85 24 13.5 24 10.95 24 4.9 18.55 0 12 0zm-.05 5.2c.15 0 .3.1.35.25L13.55 9l3.85.1c.15 0 .3.1.35.2.05.15 0 .3-.15.4L14.55 12l1.1 3.6c.05.15 0 .3-.15.4h-.4l-3.15-2.15L8.8 16h-.4c-.15-.1-.2-.25-.15-.4l1.1-3.6L6.3 9.7c-.15-.1-.2-.25-.15-.4.05-.1.2-.2.35-.2l3.85-.1 1.25-3.55c.05-.15.2-.25.35-.25z"}]}}},h=f,p=(n("dfad"),n("2877")),g=Object(p["a"])(h,u,d,!1,null,"f2433050",null),m=g.exports,v={name:"hr-left",components:{Person:m},props:{num:{type:Number,default:0},imgList:{type:Array,default:function(){return[]}}},data:function(){return{isshow:!1}},methods:{changeD:function(){this.isshow=!this.isshow},selectedBorder:function(t){this.$emit("currentBorderIndex",t)}}},w=v,b=(n("a22f"),Object(p["a"])(w,c,l,!1,null,"c1c5d442",null)),C=b.exports,_=n("7a94"),x={cornerStrokeColor:"#ff4555",cornerColor:"#ff4555",cornerStyle:"circle",cornerSize:28,borderScaleFactor:6,borderColor:"#ff4555"},y=x,L="";_["fabric"].Object.prototype.set(y);var O={name:"hr-main",components:{Left:C},data:function(){return{imgLists:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],currentPicIndex:1,isShow:!1,isResults:!1,exportImage:""}},mounted:function(){this.initImageEffectCanvas()},methods:{initImageEffectCanvas:function(){L=new _["fabric"].Canvas("imageEffectCanvas",{width:"152",height:"152",backgroundColor:"#ffffff"}),L.preserveObjectStacking=!0},getCurrentBorderIndex:function(t){this.currentPicIndex=t,this.addBorder()},viewer:function(t){var e=this.getObjectURL(t.target.files[0]);this.toggerBackHandle(e)},getObjectURL:function(t){var e=null;return void 0!=window.createObjectURL?e=window.createObjectURL(t):void 0!=window.URL?e=window.URL.createObjectURL(t):void 0!=window.webkitURL&&(e=window.webkitURL.createObjectURL(t)),e},changeHatNext:function(){var t=this.currentPicIndex;t>=0&&t<this.imgLists.length?(this.currentPicIndex+=1,this.addBorder()):console.log("暂时没有了")},changeHatPre:function(){var t=this.currentPicIndex;t<=this.imgLists.length&&t>1?(this.currentPicIndex-=1,this.addBorder()):console.log("暂时没有了")},addBorder:function(){var t,e=this.currentPicIndex,n=new Image;n.setAttribute("crossOrigin","anonymous"),n.src="picture/hat".concat(e,".png"),L._objects=[],n.onload=function(){t=new _["fabric"].Image(n,{scaleX:L.width/n.width,scaleY:L.height/n.height,selectable:!1}),t.setControlVisible("bl",!1),t.setControlVisible("tr",!1),t.setControlVisible("tl",!1),t.setControlVisible("mr",!1),t.setControlVisible("mt",!1),L.add(t)},this.isShow=!0},exportFunc:function(){this.exportImage=L.toDataURL({width:L.width,height:L.width}),alert("长按图片保存或分享"),this.isResults=!0},toggerBackHandle:function(t){var e,n=new Image;n.setAttribute("crossOrigin","anonymous"),n.src=t,n.onload=function(){e=new _["fabric"].Image(n,{scaleX:L.width/n.width,scaleY:L.height/n.height}),L.setBackgroundImage(e,L.renderAll.bind(L)),L.renderAll()},this.addBorder()}}},I=O,j=Object(p["a"])(I,s,o,!1,null,"02ea7bb0",null),k=j.exports,P={name:"App",components:{Main:k}},S=P,B=Object(p["a"])(S,i,a,!1,null,null,null),R=B.exports;n("a766"),n("77ed"),n("d2c1");r["a"].config.productionTip=!1,r["a"].use(_["fabric"]),new r["a"]({render:function(t){return t(R)}}).$mount("#app")},"623f":function(t,e,n){},6951:function(t,e,n){},a22f:function(t,e,n){"use strict";n("6951")},a766:function(t,e,n){},d2c1:function(t,e,n){},dfad:function(t,e,n){"use strict";n("623f")}});
//# sourceMappingURL=app.f6dcb270.js.map