(function(t){function e(e){for(var i,s,o=e[0],c=e[1],l=e[2],d=0,f=[];d<o.length;d++)s=o[d],Object.prototype.hasOwnProperty.call(a,s)&&a[s]&&f.push(a[s][0]),a[s]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(t[i]=c[i]);u&&u(e);while(f.length)f.shift()();return r.push.apply(r,l||[]),n()}function n(){for(var t,e=0;e<r.length;e++){for(var n=r[e],i=!0,o=1;o<n.length;o++){var c=n[o];0!==a[c]&&(i=!1)}i&&(r.splice(e--,1),t=s(s.s=n[0]))}return t}var i={},a={app:0},r=[];function s(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=i,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)s.d(n,i,function(e){return t[e]}.bind(null,i));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var u=c;r.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"0237":function(t,e,n){},"0612":function(t,e,n){"use strict";n("0237")},1:function(t,e){},2:function(t,e){},3:function(t,e){},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var i=n("2b0e"),a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("Main")],1)},r=[],s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"wrapper"},[n("div",{staticClass:"operation-header"},[n("div",{staticClass:"h-title"},[n("Left",{attrs:{num:t.imgLists.length,imgList:t.imgLists}})],1)]),t.isResults?t._e():n("div",{staticClass:"operation-box"},[n("a",{staticClass:"prev",on:{click:t.changeHatPre}}),n("div",{staticClass:"operation-img"},[n("div",{staticClass:"cropper-content",attrs:{id:"content"}},[n("canvas",{ref:"canvas",attrs:{id:"imageEffectCanvas"}})])]),n("a",{staticClass:"next",on:{click:t.changeHatNext}})]),t.isResults?n("img",{attrs:{id:"export",alt:"国庆专属头像",src:t.exportImage}}):t._e(),n("div",{staticClass:"operation-btns"},[n("a",{staticClass:"o-btn1",class:t.isShow?"hide":"show"},[n("input",{staticClass:"o-btn1",staticStyle:{opacity:"0"},attrs:{id:"upload",type:"file"},on:{change:t.viewer}})]),n("a",{staticClass:"o-btn2",class:t.isShow?"show":"hide",on:{click:t.exportFunc}})]),t._m(0)])])},o=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"operation-done"},[n("img",{staticClass:"act-done-happy",attrs:{src:"picture/act-done-happy.png",alt:""}})])}],c=(n("d3b7"),n("3ca3"),n("ddb0"),n("2b3d"),n("9861"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"left"},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.isshow,expression:"isshow"}],staticClass:"mask_w",on:{click:t.changeD}}),n("img",{staticClass:"img-2",attrs:{src:"picture/cate.png",alt:"",srcset:""},on:{click:t.changeD}}),n("transition",{attrs:{name:"fade","enter-active-class":"animate__animated animate__fadeInLeft","leave-active-class":"animate__animated animate__fadeOutLeft"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.isshow,expression:"isshow"}],staticClass:"left-w"},[n("div",{staticStyle:{margin:"60px 0 0 20px"}},[t._v("一共有"+t._s(t.num)+"个边框")]),n("ul",{staticClass:"ul-w"},t._l(t.imgList,(function(t,e){return n("li",{key:"dda"+e},[n("img",{attrs:{src:"picture/hat"+(e+1)+".png",alt:""}})])})),0),n("a",{staticClass:"footer-left",attrs:{target:"_blank",href:"https://github.com/rr210/zh-flag"}},[n("svg",{attrs:{width:"20",role:"img",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"}},[n("title",[t._v("GitHub")]),n("path",{attrs:{d:"M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"}})])])])])],1)}),l=[],u=(n("a9e3"),{name:"Left",props:{num:{type:Number,default:0},imgList:{type:Array,default:function(){return[]}}},data:function(){return{isshow:!1}},methods:{changeD:function(){this.isshow=!this.isshow}}}),d=u,f=(n("0612"),n("2877")),h=Object(f["a"])(d,c,l,!1,null,"f5399a32",null),p=h.exports,g=n("7a94"),m={cornerStrokeColor:"#ff4555",cornerColor:"#ff4555",cornerStyle:"circle",cornerSize:28,borderScaleFactor:6,borderColor:"#ff4555"},v=m,w="";g["fabric"].Object.prototype.set(v);var b={name:"Main",components:{Left:p},data:function(){return{imgLists:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],currentPicIndex:1,isShow:!1,isResults:!1,exportImage:""}},mounted:function(){this.initImageEffectCanvas()},methods:{initImageEffectCanvas:function(){w=new g["fabric"].Canvas("imageEffectCanvas",{width:"152",height:"152",backgroundColor:"#ffffff"}),w.preserveObjectStacking=!0},viewer:function(t){var e=this.getObjectURL(t.target.files[0]);this.toggerBackHandle(e)},getObjectURL:function(t){var e=null;return void 0!=window.createObjectURL?e=window.createObjectURL(t):void 0!=window.URL?e=window.URL.createObjectURL(t):void 0!=window.webkitURL&&(e=window.webkitURL.createObjectURL(t)),e},changeHatNext:function(){var t=this.currentPicIndex;t>=0&&t<this.imgLists.length?(this.currentPicIndex+=1,this.addBorder()):console.log("暂时没有了")},changeHatPre:function(){var t=this.currentPicIndex;t<=this.imgLists.length&&t>1?(this.currentPicIndex-=1,this.addBorder()):console.log("暂时没有了")},addBorder:function(){var t,e=this.currentPicIndex,n=new Image;n.setAttribute("crossOrigin","anonymous"),n.src="picture/hat".concat(e,".png"),w._objects=[],n.onload=function(){t=new g["fabric"].Image(n,{scaleX:w.width/n.width,scaleY:w.height/n.height,selectable:!1}),t.setControlVisible("bl",!1),t.setControlVisible("tr",!1),t.setControlVisible("tl",!1),t.setControlVisible("mr",!1),t.setControlVisible("mt",!1),w.add(t)},this.isShow=!0},exportFunc:function(){this.exportImage=w.toDataURL({width:w.width,height:w.width}),alert("长按图片保存或分享"),this.isResults=!0},toggerBackHandle:function(t){var e,n=new Image;n.setAttribute("crossOrigin","anonymous"),n.src=t,n.onload=function(){e=new g["fabric"].Image(n,{scaleX:w.width/n.width,scaleY:w.height/n.height}),w.setBackgroundImage(e,w.renderAll.bind(w)),w.renderAll()},this.addBorder()}}},C=b,_=Object(f["a"])(C,s,o,!1,null,"7c5a2e66",null),x=_.exports,y={name:"App",components:{Main:x}},O=y,L=Object(f["a"])(O,a,r,!1,null,null,null),j=L.exports;n("a766"),n("77ed"),n("d2c1");i["a"].config.productionTip=!1,i["a"].use(g["fabric"]),new i["a"]({render:function(t){return t(j)}}).$mount("#app")},a766:function(t,e,n){},d2c1:function(t,e,n){}});
//# sourceMappingURL=app.bb66d47f.js.map